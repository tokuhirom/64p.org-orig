shell script

シェルスクリプトの使い方がおぼえられません。

* 基礎文法

** if

>||
if [ -e "/tmp/foo" ]
then
  ...
fi
||<

* 拡張子一括変換

>||
for name in *.htm ; do
  mv ${name%.htm}.html;
done
||<

* set

set -e とすると、exit code が non-zero だとそこで死ぬので便利。autodie みたいなかんじ。

set -x で、実行中のコマンドがみえる。@ECHO ON とおなじかんじ。

